import streamlit as st
import pandas as pd

# ==================================
# 1. ุฅุนุฏุงุฏุงุช ุงูุตูุญุฉ
# ==================================
st.set_page_config(
page_title="Smart Analyst Beast",
page_icon="๐ค",
layout="wide"
)

# ==================================
# 2. ุงูุนููุงู ุงูุฑุฆูุณู
# ==================================
st.markdown(
"<h1 style='text-align:center; color:#1E3A8A;'>๐ค Smart Analyst Beast</h1>",
unsafe_allow_html=True
)
st.markdown(
"<h3 style='text-align:center;'>ุงูููุธููุฉ ุงูุฐููุฉ ูููุญุงุณุจุฉ ูุชุญููู ุงูุจูุงูุงุช</h3>",
unsafe_allow_html=True
)
st.divider()

# ==================================
# 3. ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
# ==================================
with st.sidebar:
st.header("โ๏ธ ููุญุฉ ุงูุชุญูู")

choice = st.radio(
"ุงุฎุชุฑ ุงููุณู:",
[
"๐ ุงูุฏุงุดุจูุฑุฏ ุงูุตุจุงุญู",
"๐ ุชุญููู ุงููููุงุช ุงูุถุฎูุฉ",
"โ๏ธ ูุงุฑุฆ ุงูุฎุท ุงููุฏูู",
"๐ค ุฅุฑุณุงู ุงูุชูุงุฑูุฑ"
]
)

# ==================================
# 4. ุงูุฏุงุดุจูุฑุฏ ุงูุตุจุงุญู
# ==================================
if choice == "๐ ุงูุฏุงุดุจูุฑุฏ ุงูุตุจุงุญู":
st.success("โ๏ธ ุตุจุงุญ ุงููู ูุง ูุฏูุฑ")

col1, col2, col3 = st.columns(3)
col1.metric("ุฅุฌูุงูู ุงูุฅูุฑุงุฏุงุช", "โ")
col2.metric("ุฅุฌูุงูู ุงููุตุฑููุงุช", "โ")
col3.metric("ุตุงูู ุงูุฑุจุญ", "โ")

st.info("๐ ููุง ููุจูู ูู ููุฎุต ุฐูู ูุชูุจููุงุช AI ูุฑูุจูุง")

# ==================================
# 5. ุชุญููู ุงููููุงุช ุงูุถุฎูุฉ
# ==================================
elif choice == "๐ ุชุญููู ุงููููุงุช ุงูุถุฎูุฉ":
st.subheader("๐ฒ ูุนุงูุฌ ุงูุจูุงูุงุช ุงูุนููุงู")

files = st.file_uploader(
"ุงุฑูุน ูููุงุชู (CSV / Excel):",
type=["csv", "xlsx"],
accept_multiple_files=True
)

if files:
st.success(f"๐ฅ ุชู ุงุณุชูุงู {len(files)} ููู")

for file in files:
st.markdown(f"## ๐ {file.name}")

try:
if file.name.endswith(".csv"):
df = pd.read_csv(file)
else:
df = pd.read_excel(file)

st.dataframe(df.head())

c1, c2, c3, c4 = st.columns(4)
c1.metric("ุนุฏุฏ ุงูุตููู", df.shape[0])
c2.metric("ุนุฏุฏ ุงูุฃุนูุฏุฉ", df.shape[1])
c3.metric("ุงูุฎุงูุงุช ุงููุงุถูุฉ", df.isnull().sum().sum())
c4.metric("ุฃุนูุฏุฉ ุฑูููุฉ", df.select_dtypes(include="number").shape[1])

with st.expander("๐ ููุฎุต ุฅุญุตุงุฆู"):
st.dataframe(df.describe())

except Exception as e:
st.error(f"โ ุญุตู ุฎุทุฃ ุฃุซูุงุก ูุฑุงุกุฉ ุงูููู: {e}")

# ==================================
# 6. ูุงุฑุฆ ุงูุฎุท ุงููุฏูู
# ==================================
elif choice == "โ๏ธ ูุงุฑุฆ ุงูุฎุท ุงููุฏูู":
st.warning("โ๏ธ ุงููุณู ุฏู ุชุญุช ุงูุชุทููุฑ")

st.markdown("""
๐ง *ุงูุฎุทุฉ ุงูุฌุงูุฉ:*
- ุฑูุน ุตูุฑุฉ ูุงุชูุฑุฉ ุฃู ุฅูุตุงู
- ุงุณุชุฎุฑุงุฌ ุงููุต (OCR)
- ุชุญูููู ููููุฏ ูุญุงุณุจูุฉ
- ุฅุฏุฎุงู ุชููุงุฆู ูู ุงููุธุงู
""")

# ==================================
# 7. ุฅุฑุณุงู ุงูุชูุงุฑูุฑ
# ==================================
elif choice == "๐ค ุฅุฑุณุงู ุงูุชูุงุฑูุฑ":
st.info("๐ค ูุฑูุฒ ุงูุชูุงุฑูุฑ ุงูุฐููุฉ")

st.markdown("""
๐ ูุฑูุจูุง:
- ุชุตุฏูุฑ PDF
- ุฅุฑุณุงู ุฅูููู
- ุชูุงุฑูุฑ ููููุฉ / ุดูุฑูุฉ
- ุชุนููู ุฐูู ูู ุงูู AI
""")
